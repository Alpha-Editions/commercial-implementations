<!doctype html>
<html lang="el">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>THE SPOT IT CHALLENGE - powered by NIVEA</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
        <style>
            .thumbnail {
                filter: grayscale(100%);
            }
            .active .thumbnail {
                filter: grayscale(0);
            }
            .shadow {
                box-shadow: 0 0 3px black;
            }
            @media (min-width: 576px) {

            }
            @media (min-width: 768px) {

            }
            @media (min-width: 992px) {
                
            }
            @media (min-width: 1200px) {

            }
            @media (min-width: 1400px) {
                
            }
        </style>
    </head>
    <body class="min-vh-100" style="background-image: url(../assets/cream.webp); background-size: cover; background-position: top center; background-repeat: no-repeat; background-attachment: fixed;">
        <header class="text-center pb-5">
            <div class="border-bottom border-dark mb-3">
                <a href="https://www.faysbook.gr/" class="d-block animate__animated animate__fadeIn" rel="noopener" style="animation-delay: .5s;">
                    <img src="../assets/faysbook.png" class="img-fluid py-2" style="width: 294px;" alt="Fay’s Book">
                </a>
            </div>
            <h1 class="pb-3">
                <div class="animate__animated animate__fadeIn" style="animation-delay: 1s;">
                    <span class="pb-2">THE</span>
                    <span style="background-image: url(../assets/brush.png); background-position: center center; background-size: 100%; background-repeat: no-repeat;">SPOT IT</span>
                    <span class="pb-2">CHALLENGE</span>
                </div>
                <div class="animate__animated animate__fadeIn" style="animation-delay: 1.5s;">
                    <span class="fw-normal fs-4">powered by </span>
                    <a href="https://www.nivea.gr/" class="text-decoration-underline" target="_blank" rel="noopener">
                        <img src="https://alpha-editions.github.io/commercial-implementations/fb-nivea/assets/nivea.png" id="nivea-logo" alt="Nivea" class="align-middle" style="width: 70px;">
                    </a>
                </div>
            </h1>
            <div id="introtext" class="mx-auto px-3 text-center fs-5" style="max-width: 700px;">
                <span class="d-inline-block animate__animated animate__fadeIn pb-3 pb-lg-2" style="animation-delay: 2s;">Λαμπερή επιδερμίδα και αψεγάδιαστη όψη;</span>
                <br>
                <span class="d-inline-block p-2 rounded-4 text-white shadow bg-opacity-50 animate__animated animate__zoomIn" style="background-color: #9c7d3b; animation-delay: 2.5s;">Τέσσερις γυναίκες με διαφορετικές ανάγκες βρίσκουν τον δικό τους σύμμαχο στην σειρά NIVEA Luminous630.</span>
            </div>
        </header>
        <main class="p-4">
            <div class="container-fluid h-100">
                <div class="row g-0 h-100">
                    <div class="col-6 col-lg position-relative active">
                        <button type="button" id="thumbnail-1" class="thumbnail btn position-absolute w-100 p-0 animate__animated animate__fadeIn" style="animation-delay: 3s;" onclick="new bootstrap.Modal(document.querySelector('#video-1-modal')).show()">
                            <img src="../assets/intro-video.png" class="img-fluid" alt="">
                            <!-- <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-play-circle-fill position-absolute start-50 translate-middle-x text-white" viewBox="0 0 16 16" style="bottom: 6%">
                                <path d="M10.804 8 5 4.633v6.734L10.804 8zm.792-.696a.802.802 0 0 1 0 1.392l-6.363 3.692C4.713 12.69 4 12.345 4 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692z"/>
                            </svg> -->
                        </button>
                    </div>
                    <!-- <div class="col-12 col-lg position-relative" style="background-image: url(../assets/arrow.png); background-size: 100% 80%; background-position: center; background-repeat: no-repeat;"> -->
                    <div class="col-12 col-lg position-relative overflow-hidden active">
                        <div class="line position-absolute rounded-pill animate__animated animate__fadeIn" style="background-color: #9c7d3b; animation-delay: 3.1s;"></div>
                        <span class="position-absolute d-inline-block w-100 shadow p-2 text-white text-center rounded-4 top-50 start-50 translate-middle animate__animated animate__fadeIn" style="animation-delay: 3.1s; background-color: #9c7d3b;">Έχεις δυσχρωμίες στην επιδερμίδα σου μεγαλώνοντας;</span>
                    </div>
                    <div class="col-6 offset-6 col-lg offset-lg-0 position-relative active">
                        <button type="button" id="thumbnail-2" class="thumbnail btn position-absolute w-100 bottom-0 end-0 p-0 animate__animated animate__fadeIn" style="animation-delay: 3.2s;">
                            <img src="../assets/marinelli-new.png" class="img-fluid" alt="">
                        </button>
                    </div>
                    <div class="col-12 col-lg position-relative overflow-hidden active">
                        <div class="line position-absolute rounded-pill animate__animated animate__fadeIn" style="background-color: #9c7d3b; animation-delay: 3.3s;"></div>
                        <span class="position-absolute d-inline-block w-100 shadow p-2 text-white text-center rounded-4 top-50 start-50 translate-middle animate__animated animate__fadeIn" style="animation-delay: 3.3s; background-color: #9c7d3b;">Μήπως το καλοκαίρι εμφανίζονται κηλίδες στην επιδερμίδα σου;</span>
                    </div>
                    <div class="col-6 col-lg position-relative active">
                        <button type="button" id="thumbnail-3" class="thumbnail btn position-absolute w-100 p-0 animate__animated animate__fadeIn" style="animation-delay: 3.4s;" onclick="new bootstrap.Modal(document.querySelector('#intro-video-modal-2')).show()">
                            <img src="../assets/tina-new.png" class="img-fluid" alt="">
                        </button>
                    </div>
                    <div class="col-12 col-lg position-relative">
                        <span class="position-absolute d-inline-block w-100 shadow p-2 bg-white text-center rounded-4 top-50 start-50 translate-middle animate__animated animate__fadeIn" style="animation-delay: 3.5s;">Μετά την γέννα, έχεις μόνιμα σημάδια στην επιδερμίδα σου;</span>
                    </div>
                    <div class="col-6 offset-6 col-lg offset-lg-0 position-relative">
                        <button type="button" id="thumbnail-4" class="thumbnail btn position-absolute w-100 bottom-0 end-0 p-0 animate__animated animate__fadeIn" style="animation-delay: 3.6s;">
                            <img src="../assets/rea-new.png" class="img-fluid" alt="">
                        </button>
                    </div>
                    <div class="col-12 col-lg position-relative">
                        <span class="position-absolute d-inline-block w-100 p-2 shadow bg-white text-center rounded-4 top-50 start-50 translate-middle animate__animated animate__fadeIn" style="animation-delay: 3.7s;">Έχεις σκεφτεί τι μπορεί να προκαλεί τους μαύρους κύκλους σου;</span>
                    </div>
                    <div class="col-6 col-lg position-relative">
                        <button type="button" id="thumbnail-5" class="thumbnail btn position-absolute w-100 p-0 animate__animated animate__fadeIn" style="animation-delay: 3.8s;" onclick="new bootstrap.Modal(document.querySelector('#intro-video-modal-2')).show()">
                            <img src="../assets/christina-new.png" class="img-fluid" alt="">
                        </button>
                    </div>
                </div>
            </div>
        </main>
        <div class="modal fade" id="video-1-modal" tabindex="-1" aria-labelledby="" aria-hidden="true">
            <div class="modal-dialog modal-fullscreen">
                <div class="modal-content bg-black position-relative">
                    <video id="video-1" class="d-block mx-auto modal-video vh-100" controls>
                        <source src="../assets/intro-video.mp4" type="video/mp4">
                        Το πρόγραμμα περιήγησης που χρησιμοποιείτε δεν υποστηρίζει την αναπαραγωγή βίντεο.
                    </video>
                    <button type="button" id="video-1-play-button" class="btn position-absolute top-50 start-50 translate-middle" onclick="document.getElementById('video-1').play(); this.style.display = 'none';">
                        <svg xmlns="http://www.w3.org/2000/svg" width="150" height="150" fill="white" class="bi bi-play-fill" viewBox="0 0 16 16" style="filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));">
                            <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"/>
                        </svg>
                    </button>
                    <!-- <div class="text-center p-3">
                        <a href="#" class="btn bg-primary text-light border-0 rounded-pill px-4 small">Μάθε περισσότερα</a>
                    </div> -->
                    <button type="button" id="video-1-modal-close-button" class="btn-close btn-close-white position-absolute end-0 p-3" data-bs-dismiss="modal" aria-label="Κλείσιμο" onclick="document.getElementById('video-1').pause(); document.getElementById('video-1').currentTime = 0; document.getElementById('video-1-play-button').style.display = 'block';"></button>
                </div>
            </div>
        </div>
        <script>
            function calculateBootstrapTier(literal) {
                let documentWidth = document.body.clientWidth;
                if (documentWidth < parseInt(getComputedStyle(document.documentElement).getPropertyValue('--bs-breakpoint-sm').replace('px', ''))) {
                    return literal == true ? 'xs' : '0';
                }
                else if (documentWidth < parseInt(getComputedStyle(document.documentElement).getPropertyValue('--bs-breakpoint-md').replace('px', ''))) {
                    return literal == true ? 'sm' : '1';
                }
                else if (documentWidth < parseInt(getComputedStyle(document.documentElement).getPropertyValue('--bs-breakpoint-lg').replace('px', ''))) {
                    return literal == true ? 'md' : '2';
                }
                else if (documentWidth < parseInt(getComputedStyle(document.documentElement).getPropertyValue('--bs-breakpoint-xl').replace('px', ''))) {
                    return literal == true ? 'lg' : '3';
                }
                else if (documentWidth < parseInt(getComputedStyle(document.documentElement).getPropertyValue('--bs-breakpoint-xxl').replace('px', ''))) {
                    return literal == true ? 'xl' : '4';
                }
                else {
                    return literal == true ? 'xxl' : '5';
                }
            }

            function screenOrientation() {
                if (document.body.clientHeight > document.body.clientWidth) {
                    return 'portrait';
                }
                else {
                    return 'landscape';
                }
            }

            if (parseInt(calculateBootstrapTier()) < 3) {
                document.getElementById('introtext').addEventListener('animationend', () => {
                    let height = document.querySelector('.thumbnail').clientHeight;
                    document.querySelectorAll('.col-lg').forEach(function(col) {
                        col.style.height = height + 'px';
                    });
                    let side1 = document.querySelector('.col-lg').clientHeight;
                    let side2 = document.querySelector('.col-12').clientWidth - document.querySelector('.thumbnail').clientWidth;
                    let angle = Math.atan(side2 / side1) * 180 / Math.PI;
                    document.querySelectorAll('.line').forEach(function(line, index) {
                        line.style.width = '3px';
                        line.style.height = '200%';
                        line.style.left = '50%';
                        line.style.top = '-50%';
                        line.style.marginTop = '100%;'
                        if (index % 2 == 0) {
                            line.style.transform = 'rotate(-' + angle + 'deg)';
                        }
                        else {
                            line.style.transform = 'rotate(' + angle + 'deg)';
                        }
                    });
                });
            }

            if (parseInt(calculateBootstrapTier()) >= 3) {
                document.getElementById('introtext').addEventListener('animationend', () => {
                    document.querySelector('main').style.height = 'calc(100vh - ' + document.querySelector('header').clientHeight + 'px)';
                    let side1 = document.querySelector('.col-lg').clientWidth;
                    let side2 = document.querySelector('.col-lg').clientHeight - document.querySelector('.thumbnail').clientHeight;
                    let angle = Math.atan(side1 / side2) * 180 / Math.PI;
                    document.querySelectorAll('.line').forEach(function(line, index) {
                        line.style.width = '3px';
                        line.style.height = '100%';
                        line.style.left = '50%';
                        if (index % 2 == 0) {
                            line.style.transform = 'rotate(-' + angle + 'deg)';
                        }
                        else {
                            line.style.transform = 'rotate(' + angle + 'deg)';
                        }
                    });
                });
            }

            // document.getElementById('thumbnail-5').addEventListener('animationend', () => {
            //     const activeButtons = document.querySelectorAll('.active button');
            //     let animationDelay = 4;
            //     const pulseInterval = setInterval(function() {
            //         let intervalRemainder = activeButtons.length;
            //         activeButtons.forEach(function(button, index) {
            //             button.classList.remove('animate__animated', 'animate__fadeIn', 'animate__pulse');
            //             button.style.animationDelay = animationDelay + 's';
            //             button.classList.add('animate__animated', 'animate__pulse');
            //             animationDelay += .2;
            //             intervalRemainder -= .2;
            //             console.log('Interval: ' + index);
            //         });
            //         animationDelay += intervalRemainder;
            //     }, activeButtons.length * 1000);
            // });

            document.getElementById('thumbnail-5').addEventListener('animationend', () => {
                let activeButtons = document.querySelectorAll('.active button');
                activeButtons.forEach(function(button, index) {
                    let newButton = button.cloneNode(true);
                    newButton.style.animationDelay = (index * .2) + 's';
                    newButton.classList.remove('animate__fadeIn');
                    newButton.classList.add('animate__pulse');
                    button.parentNode.replaceChild(newButton, button);
                });
                setInterval(function() {
                    let activeButtons = document.querySelectorAll('.active button');
                    activeButtons.forEach(function(button, index) {
                        let newButton = button.cloneNode(true);
                        newButton.style.animationDelay = (index * .2) + 's';
                        button.parentNode.replaceChild(newButton, button);
                    });
                }, 3000);
            });
        </script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD" crossorigin="anonymous"></script>
    </body>
</html>